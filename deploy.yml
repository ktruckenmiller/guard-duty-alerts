---
- hosts: localhost
  gather_facts: false
  vars:
    my_sns_arn: arn:aws:sns:us-west-2:601394826940:kevins-cell
    region: us-west-2

  tasks:
    - name: get sha version
      command: git rev-parse HEAD
      register: sha_obj

    - debug: var=sha_obj
    # - name: put template and s3
    #   aws_s3:
    #     bucket: lambda-deploys
    #     object: /my/desired/key.txt
    #     src: /usr/local/myfile.txt
    #     mode: put
    #
    # - name: events deploy
    #   cloudformation:
    #     stack_name: "guard-duty-events"
    #     state: present
    #     region: "{{region}}"
    #     template: "events.yml"
    #     template_parameters:
    #       SNSPhoneTopic: "{{ my_sns_arn }}"
